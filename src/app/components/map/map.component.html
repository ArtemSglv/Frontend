<div class="map-container" id="map-container">
    <agm-map (mapClick)="onChooseLocation($event); onCreateArea($event)"
                               id="map" 
                               [latitude]="(userLocation.ltd || userLocation.lng) ? userLocation.ltd : Events ? Events[0].location.ltd : 51.6720400"
                               [longitude]="(userLocation.ltd || userLocation.lng) ? userLocation.lng : Events ? Events[0].location.lng : 39.1843000"
                               [zoom]="zoom"
                               >
            <agm-marker *ngFor="let event of Events"
                        [latitude]="event.location.ltd" 
                        [longitude]="event.location.lng">

                <agm-snazzy-info-window [latitude]="event.location.ltd" 
                                        [longitude]="event.location.lng">
                    <ng-template>
                        <div [routerLink]="event.id">
                            <img [src]="event.pic">
                        </div>
                    </ng-template>
                </agm-snazzy-info-window>

            </agm-marker>

            <agm-info-window *ngFor="let event of Events"
                            [latitude]="event.location.ltd"
                            [longitude]="event.location.lng"
                            [hidden]="show">
                <div [routerLink]="event.id">
                    <img [src]="event.pic">
                </div>
            </agm-info-window>

            <agm-marker *ngIf="userLocation.ltd != 0 || userLocation.lng != 0"
                        [latitude]="userLocation.ltd" 
                        [longitude]="userLocation.lng"
                        [iconUrl]="userMarker.url">
                <agm-info-window>
                    <b>Gothca!</b>
                </agm-info-window>
            </agm-marker>
      <agm-marker *ngIf="currentMarker"
                  [latitude]="currentMarker.ltd"
                  [longitude]="currentMarker.lng">
                <agm-info-window>
                    You placed this marker
                </agm-info-window>
            </agm-marker>

            <agm-circle *ngIf="filter"  
                [latitude]="(userLocation.ltd || userLocation.lng) ? userLocation.ltd : Events ? Events[0].location.ltd : 51.6720400"
                [longitude]="(userLocation.ltd || userLocation.lng) ? userLocation.lng : Events ? Events[0].location.lng : 39.1843000"
                [radius]="5000"
                [fillColor]="'red'"
                [circleDraggable]="true"
                [editable]="true">
            </agm-circle>

            <div *ngFor="let ar of areas;">
                <agm-circle
                *ngIf="ar.enabled"
                [latitude]="ar.latitude" [longitude]="ar.longitude" [radius]="ar.radius * 1000"
                [fillColor]="'red'"
                [circleDraggable]="true"
                [editable]="true">
                    <agm-info-window [isOpen]="true">
                        {{ar.name}}
                    </agm-info-window>
                </agm-circle>
            </div>
            <!-- <agm-snazzy-info-window [isOpen]="true" [latitude]="51.673858" [longitude]="7.815982" [closeWhenOthersOpen]="true">
                  My first Snazzy Info Window!
              </agm-snazzy-info-window> -->
    </agm-map>
</div>

